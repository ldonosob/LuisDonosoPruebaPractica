@model IEnumerable<TestLuisDonoso.ViewModels.TareaVM>
@{ 
    ViewBag.Title = "Lista Tareas";
}

<h2>Tareas</h2>

<div style="overflow-x: auto;">

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <td class="text-center">Nombre</td>
                <td class="text-center">Descipción</td>
                <td class="text-center">Estado</td>
                <td class="text-center">Usuario</td>
                <td class="text-center">Acción</td>
            </tr>
        </thead>
        <tbody>
            @if (Model.Count() > 0)
            {
                foreach (var item in Model)
                {
                    <tr>
                        <td>@item.NombreTarea</td>
                        <td>@item.DescripcionTarea</td>
                        <td>@item.EstadoTarea</td>
                        <td>@item.Usuario</td>


                        @if (item.EstadoTareaID == 1)
                        {
                            <td class="text-center">@Html.ActionLink("Marcar como resuelto", "UpdateState", "Tarea", new { idTarea = item.IDTarea }, new { @class = "btn btn-primary" }) </td>
                        }
                        else
                        {
                            <td></td>
                        }
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="4">No existen registros.</td>
                </tr>
            }

        </tbody>

    </table>

</div>

<div class="row">

    <div class="col-lg-12">
        @Html.ActionLink("Crear", "Create", null, new { @class = "btn btn-lg btn-success float-right" })
    </div>
</div>

